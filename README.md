Checkout this repo in app\code\Veni\CartPriceRulesQualifier